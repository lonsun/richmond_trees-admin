function GoogleMap( target_element ) { 
  this.tree_icon = '<%= asset_path "tree_icon_16x16.png" %>';
  this.markers = [];
  this.target_element = document.getElementById( target_element );

  this.options = {
    center: this.richmond_center,
    zoom: 14
  }

  this.map = new google.maps.Map( this.target_element, this.options );

  // markers parameter should be an array of objects.  Each
  // object should include at least "lat" and "lng" properties.
  this.setMarkers = function( markers ) {
    this.markers = markers;
  }
}

GoogleMap.prototype.richmond_center = { lat: 37.935759, lng: -122.347532 };

GoogleMap.prototype.createMarkersOnMap = function() {
  var m, gm;

  for( var i = 0; i < this.markers.length; i++ ) {
    m = this.markers[i];

    gm = new google.maps.Marker({
      position: { lat: m.lat, lng: m.lng },
      map: this.map,
      icon: this.tree_icon
    });
  }
}
